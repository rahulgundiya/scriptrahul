<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title></title>
<link rel="stylesheet" href="reg.css" >        
</head>
<body>
 <div class="container">
 <div class="registration">Registration</div>       
<div class="underline"></div>
<input type="text"  id="userid" name="userid" hidden >
<form class="form" name="form"   id="form" >
 <div class="container2">
<div class="form-control">
<label>Full Name</label>
<input type="text"  id="fullname" name="fullname" placeholder="Enter Your Full Name" >
</div>
<div class="form-control">
<label>Address</label>
<input type="text"  id="address" name="address" placeholder="Enter Your Address">
 </div>
<div class="form-control">
<label>Email</label>
<input type="text"  id="email"  name="email"placeholder="Enter Your Email">       
</div>
<div class="form-control">
<label>City</label>
<input type="text"  id="city" name="city" placeholder="Enter Your City">           
 </div>
<div class="form-control">
<label>Password</label>
<input type="password" name="password" id="password" name="password" placeholder="Enter Your Password">
</div>
 <div class="form-control">
<label>State</label>
<input type="tel"  id="state" name="state" placeholder="Enter Your State">          
</div>
<div class="form-control">
<label>Mobile</label>
<input type="number"  id="mobile" name="mobile" placeholder="Enter Your Mobile Number">       
</div>
<div class="form-control">
<label>PinCode</label>
<input type="text"  id="pincode"  name="pincode" placeholder="Enter Your PinCode">
</div>
     <!-- <button  onclick="saveData()" class ="button"  >Register</button> -->
</div>
</form>
<button  onclick="saveData()" class ="button"  >Register</button>
</div>
</body>
<script>
  var id= Math.floor(new Date().valueOf() * Math.random());
 

    function saveData()
    {
     

     // console.log("Hii Ids" +id);
     // console.log("ID"  +uniqueID);
    let userid,fullname,address,email,city,password,state,mobile,pincode;
    userid=id;    
    fullname=document.getElementById("fullname").value;
    address=document.getElementById("address").value;
    email=document.getElementById("email").value;
    city=document.getElementById("city").value;
    password=document.getElementById("password").value;
    state=document.getElementById("state").value;
    mobile=document.getElementById("mobile").value;
    pincode=document.getElementById("pincode").value;
   // console.log("UserID is.." +uniqueID);
    if( fullname == "" ) {
    alert("Please provide your name!");
    return false;
  }
  if(city == "" ) {
  alert("Please provide your city!" );
         return false;

      }
      if(state == "" ) {
         alert("Please provide your state!" );
         return false;
      }
      if(address == "" ) {
         alert("Please provide your Address!" );
         return false;
      }
      if(mobile=="") {
         alert("Please provide your Mobile!");
         mobile.focus();
       return false;
      }
      
      var expr = /^(0|91)?[6-9][0-9]{9}$/;
        if (!expr.test(mobile)) {
          alert("Invalid Mobile Number");
          return false;
        }
          
      if(pincode=="") {
         alert("Please provide your pincode!");
         return false;
        }
      if(password=="") {
         alert("Please provide your password!");
         return false;
          }
         
       var reg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
      if(reg.test(email)==false ){
        alert("Invalid Email Id")
        return false;
      }

      if(email=="") {
         alert("Please provide your email!");
        // document.form.fullname.focus() ;
      return false;
       } 
       else if(!email.includes("gmail")) {
         alert("Invalid email!");
        // document.form.fullname.focus() ;
      return false;
       } 
       else if(!email.includes(".com")) {
         alert("Email Need .Com !");
        // document.form.fullname.focus() ;
      return false;
       } 
       // return true;
   // alert(fullname+address+email+city+password+state+mobile+pincode)
  
    localStorage.setItem("userid",userid);
    localStorage.setItem("fullname",fullname);
    localStorage.setItem("address",address);
    localStorage.setItem("email",email);
    localStorage.setItem("city",city);
    localStorage.setItem("password",password);
    localStorage.setItem("stats",state);
    localStorage.setItem("mobile",mobile);
    localStorage.setItem("pincode",pincode);
    let user_records=JSON.parse(localStorage.getItem("users"))?JSON.parse(localStorage.getItem("users")):[]
    if(user_records.some((v)=>{
        return v.email==email && v.password==password 
    }))
    {
    alert("Duplicate Data");
    }
    else{
        user_records.push({
        "userid":userid,
        "fullname":fullname,
        "address":address,
        "email":email,
        "city":city,
        "password":password,
        "stats":state,
        "mobile":mobile,
         "pincode":pincode
       })
        localStorage.setItem("users",JSON.stringify(user_records));
        window.location.replace("login.html");            
          }
        }
    //document.form.fullname.focus();
    </script>
    </html